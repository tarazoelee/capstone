
/**----GETTING OLD SCRIPT FOR A SPECIFIC USER ------ */
app.get("/pastScript/:user/:date", async (req, res) => {
  try {
    const userEmail = req.params.user; //getting email
    const dateToGet = req.params.date; //getting email

    // Find scripts that match today's date and include the specific user in the users array
    const scripts = await scriptsModel.find({
      date: dateToGet,
      users: userEmail, // This will match any documents where the users array contains the userEmail
    });

    res.send(scripts);
  } catch (e) {
    res.status(500).send("Unable to find scripts");
    console.error("Error occurred while retrieving scripts:", e);
  }
});